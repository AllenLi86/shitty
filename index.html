<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>瞎掰王 - 雙人遊戲</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <h1>👑 瞎掰王（雙人同步遊戲）v0.2.2</h1>

    <div id="login">
      <div class="login-section">
        <div class="player-login" id="playerA-section">
          <h3>玩家 A</h3>
          <input type="text" id="playerA-name" placeholder="玩家A的名字" />
          <br>
          <button onclick="joinAsPlayer('A')">加入為玩家A</button>
          <div id="playerA-status"></div>
        </div>
        
        <div class="player-login" id="playerB-section">
          <h3>玩家 B</h3>
          <input type="text" id="playerB-name" placeholder="玩家B的名字" />
          <br>
          <button onclick="joinAsPlayer('B')">加入為玩家B</button>
          <div id="playerB-status"></div>
        </div>
      </div>
      
      <div style="text-align: center;">
        <button id="startGame" onclick="startGame()" disabled>開始遊戲</button>
      </div>
    </div>

    <div id="game-area" class="game-area">
      <!-- 想想模式UI -->
      <div id="guesser-ui" class="role-ui guesser-mode" style="display: none;">
        <div class="role-badge guesser-badge">🤔 你是想想</div>
        <div class="instruction">觀察對方的回答，猜測他是老實人還是瞎掰人！</div>
        <div id="guesser-question" class="question"></div>
        <div id="guesser-buttons" class="buttons">
          <button class="guess-button honest" onclick="makeGuess('honest')">🙋‍♂️ 他是老實人</button>
          <button class="guess-button liar" onclick="makeGuess('liar')">🤥 他是瞎掰人</button>
        </div>
      </div>

      <!-- 答題者模式UI -->
      <div id="answerer-ui" class="role-ui answerer-mode" style="display: none;">
        <div id="answerer-role-badge" class="role-badge"></div>
        <div id="answerer-instruction" class="instruction"></div>
        <div id="answerer-question" class="question"></div>
        <div id="answerer-explanation" class="explanation" style="display: none;"></div>
        <div class="waiting">等待想想做出猜測...</div>
      </div>

      <!-- 結果顯示 -->
      <div id="result-display" class="result-display" style="display: none;">
        <div id="result-text"></div>
        <button onclick="nextRound()">下一回合</button>
      </div>
    </div>
  </div>

  <!-- Firebase CDN 版本（compat） -->
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>
  <script src="main.js"></script>
</body>
</html>